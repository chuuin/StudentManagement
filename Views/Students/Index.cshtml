@model IEnumerable<StudentManagement.Models.Student>

@{
    ViewData["Title"] = "學生列表";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<h2 class="my-4">學生列表</h2>

<a href="/Students/Create" class="btn btn-success mb-3">新增學生</a>

<table class="table table-striped table-hover align-middle">
    <thead class="table-dark">
        <tr class="text-center">
            <th>學號</th>
            <th>姓名</th>
            <th>年齡</th>
            <th>信箱</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var student in Model)
        {
            <tr class="text-center table-row">
                <td>@student.StudentNumber</td>
                <td>@student.Name</td>
                <td>@student.Age</td>
                <td>@student.Email</td>
                <td>
                    <a asp-action="Edit" asp-route-id="@student.Id" class="btn btn-warning btn-sm me-1 mb-1 mb-md-0">編輯</a>
                    <a asp-action="Delete" asp-route-id="@student.Id" class="btn btn-danger btn-sm delete-btn">刪除</a>
                </td>
            </tr>
        }
    </tbody>
</table>

<style>
    /* 表格列初始透明與微下移 */
    .table-row {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.5s ease;
    }

    /* 表格淡入 */
    .table-row.visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* 懸停高亮動畫 */
    .table-hover tbody tr:hover {
        transform: scale(1.02);
        transition: transform 0.2s ease, background-color 0.2s ease;
        background-color: #f0f8ff;
    }
</style>

<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script>
    // 表格列淡入動畫
    $(document).ready(function(){
        $(".table-row").each(function(index){
            let row = $(this);
            setTimeout(function(){
                row.addClass("visible");
            }, index * 100);
        });

        // 刪除按鈕淡出動畫
        $(".delete-btn").click(function(e){
            let row = $(this).closest("tr");
            row.css("transition", "opacity 0.5s");
            row.css("opacity", 0);
            setTimeout(() => {
                row.remove();
            }, 500);
        });
    });
</script>
